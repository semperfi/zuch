<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- INTERFACE -->
    <cc:interface  componentType="UIAudioComponent">
        <cc:attribute name="value" type="java.lang.String"
            shortDescription="URL of the video file to display" />
        
       
        <cc:attribute name="preload" type="java.lang.String" default="auto"
            shortDescription="Preload the video file. none, metadata or auto" />
        <cc:attribute name="autoplay" type="java.lang.Boolean" default="false"
            shortDescription="Start playback as soon as the page has loaded" />
        <cc:attribute name="mediagroup" type="java.lang.String" default=""
            shortDescription="Media group for which the video file belong" />
        <cc:attribute name="loop" type="java.lang.Boolean" default="false"
            shortDescription="Restart the video once it reaches the end" />
        <cc:attribute name="muted" type="java.lang.Boolean" default="false"
            shortDescription="Mute the audio of the video" />
        <cc:attribute name="controls" type="java.lang.Boolean" default="false"
            shortDescription="Display user controls" />
        <cc:attribute name="poster" type="java.lang.String"
            shortDescription="URL of a poster (image) to display before playback" />
        <cc:attribute name="width" type="java.lang.String"
            shortDescription="Width of the video" />
        <cc:attribute name="height" type="java.lang.String"
            shortDescription="Height of the video" />
        <cc:attribute name="sources" type="java.util.Collection"
            shortDescription="Collection of alternative MediaSources" />
       
        <cc:attribute name="tracks" type="java.util.Collection"
            shortDescription="Collection of MediaTracks" />
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation >
       <div >
           <audio jsf:id="media-player"
                jsf:value="#{cc.attrs.value}"
                preload="#{cc.attrs.preload}"
                mediagroup="#{cc.attrs.mediagroup}"
                src="#{cc.attrs.value}">
            </audio>

            
            <c:forEach items="#{cc.attrs.sources}" var="source" >
                <source src="#{source.source}" type="#{source.type}" />
            </c:forEach>
           
            
    </div>
    </cc:implementation>
</html>